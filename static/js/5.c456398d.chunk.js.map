{"version":3,"sources":["pages/Cart/styles.js","components/Modal/styles.js","components/Modal/index.js","pages/Cart/index.js"],"names":["Container","styled","div","_templateObject","darken","ProductTable","table","_templateObject2","Total","_templateObject3","styles_templateObject","props","show","ModalBody","styles_templateObject2","Modal","_ref","title","children","handlerClose","react_default","a","createElement","styles_Container","id","onClick","e","document","getElementById","handlerClick","target","type","Cart","_useState","useState","_useState2","Object","slicedToArray","showModal","setShowModal","_useState3","_useState4","isPaused","setIsPaused","_useState5","_useState6","isStoped","setIsStoped","total","useSelector","state","formatPrice","cart","reduce","totalSum","product","price","amount","map","objectSpread2","subtotal","dispatch","useDispatch","handlerCheckout","length","toast","error","Fragment","CartActions","dist_default","options","animationData","checkoutData","loop","autoplay","height","width","isStopped","isClickToPauseDisabled","eventListeners","eventName","callback","frame","currentTime","key","src","image","alt","priceFormatted","decrement","index_esm","size","color","readOnly","value","increment"],"mappings":"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","file":"static/js/5.c456398d.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  padding: 30px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    @media (max-width: 500px) {\r\n      flex-direction: column;\r\n      margin-top: 30px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      button {\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n\r\n    button {\r\n      background: #7159c1;\r\n      color: #fff;\r\n      border: 0;\r\n      border-radius: 4px;\r\n      padding: 12px 20px;\r\n      font-weight: bold;\r\n      text-transform: uppercase;\r\n      transition: background 0.2s;\r\n\r\n      &:hover {\r\n        background: ${darken(0.03, '#7159c1')};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ProductTable = styled.table`\r\n  width: 100%;\r\n\r\n  thead th {\r\n    color: #999;\r\n    text-align: left;\r\n    padding: 12px;\r\n  }\r\n\r\n  tbody td {\r\n    padding: 12px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  img {\r\n    height: 100px;\r\n  }\r\n\r\n  strong {\r\n    color: #333;\r\n    display: block;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    margin-top: 5px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    input {\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      color: #666;\r\n      padding: 6px;\r\n      width: 50px;\r\n    }\r\n  }\r\n\r\n  button {\r\n    background: none;\r\n    border: 0;\r\n    padding: 6px;\r\n  }\r\n`;\r\n\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n\r\n  span {\r\n    color: #999;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    font-size: 28px;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: o;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n\r\n  background: rgba(0, 0, 0, 0.2);\r\n\r\n  display: ${props => (props.show ? 'block' : 'none')};\r\n`;\r\n\r\nexport const ModalBody = styled.div`\r\n  position: fixed;\r\n  top: 30%;\r\n  left: 50%;\r\n  z-index: 5;\r\n  background: #fff;\r\n  padding: 2rem 2rem 1rem;\r\n  min-width: 20%;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n  font-size: 2rem;\r\n  transform: translate(-50%, 0);\r\n\r\n  h4 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  button {\r\n    background: #7159c1;\r\n    color: #fff;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    padding: 12px 20px;\r\n    font-weight: bold;\r\n    text-transform: uppercase;\r\n    transition: background 0.2s;\r\n\r\n    &:hover {\r\n      background: ${darken(0.03, '#7159c1')};\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Container, ModalBody } from './styles';\r\n\r\nexport default function Modal({ show, title, children, handlerClose }) {\r\n  function handlerClick(e) {\r\n    const modal = document.getElementById('modal');\r\n    if (e === modal) {\r\n      handlerClose();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container show={show} id=\"modal\" onClick={e => handlerClick(e.target)}>\r\n      <ModalBody>\r\n        <h4>{title}</h4>\r\n        {children}\r\n        <button type=\"button\" onClick={() => handlerClose()}>\r\n          CONCLUIR\r\n        </button>\r\n      </ModalBody>\r\n    </Container>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  show: PropTypes.bool.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  handlerClose: PropTypes.func.isRequired,\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  MdRemoveCircleOutline,\r\n  MdAddCircleOutline,\r\n  MdDelete,\r\n} from 'react-icons/md';\r\nimport Lottie from 'react-lottie';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { formatPrice } from '../../utils/format';\r\n\r\nimport * as CartActions from '../../store/modules/cart/actions';\r\n\r\nimport { Container, ProductTable, Total } from './styles';\r\nimport * as checkoutData from '../../assets/anim/checkout.json';\r\nimport Modal from '../../components/Modal';\r\n\r\nexport default function Cart() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isPaused, setIsPaused] = useState(true);\r\n  const [isStoped, setIsStoped] = useState(true);\r\n\r\n  const total = useSelector(state =>\r\n    formatPrice(\r\n      state.cart.reduce((totalSum, product) => {\r\n        return totalSum + product.price * product.amount;\r\n      }, 0)\r\n    )\r\n  );\r\n\r\n  const cart = useSelector(state =>\r\n    state.cart.map(product => ({\r\n      ...product,\r\n      subtotal: formatPrice(product.price * product.amount),\r\n    }))\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function increment(product) {\r\n    dispatch(CartActions.updateAmountRequest(product.id, product.amount + 1));\r\n  }\r\n\r\n  function decrement(product) {\r\n    dispatch(CartActions.updateAmountRequest(product.id, product.amount - 1));\r\n  }\r\n\r\n  function handlerModalOpen() {\r\n    setIsPaused(false);\r\n    setIsStoped(false);\r\n    setShowModal(true);\r\n  }\r\n\r\n  function handlerClose() {\r\n    setShowModal(false);\r\n    setIsStoped(true);\r\n    dispatch(CartActions.reset());\r\n  }\r\n\r\n  function handlerCheckout() {\r\n    if (cart.length === 0) {\r\n      toast.error('Carrinho esta vazio');\r\n    } else {\r\n      handlerModalOpen();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={showModal}\r\n        handlerClose={() => handlerClose()}\r\n        title=\"Compra Finalizada\"\r\n      >\r\n        <Lottie\r\n          options={{\r\n            animationData: checkoutData.default,\r\n            loop: false,\r\n            autoplay: false,\r\n          }}\r\n          height=\"100\"\r\n          width=\"100\"\r\n          isPaused={isPaused}\r\n          isStopped={isStoped}\r\n          isClickToPauseDisabled\r\n          eventListeners={[\r\n            {\r\n              eventName: 'enterFrame',\r\n              callback: frame => {\r\n                if (frame.currentTime > 100) {\r\n                  setIsPaused(true);\r\n                }\r\n              },\r\n            },\r\n          ]}\r\n        />\r\n      </Modal>\r\n      <Container>\r\n        <ProductTable>\r\n          <thead>\r\n            <tr>\r\n              <th />\r\n              <th>Produto</th>\r\n              <th>QTD</th>\r\n              <th>SUBTOTAL</th>\r\n              <th />\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {cart.map(product => (\r\n              <tr key={product.id}>\r\n                <td>\r\n                  <img src={product.image} alt={product.title} />\r\n                </td>\r\n                <td>\r\n                  <strong>{product.title}</strong>\r\n                  <span>{product.priceFormatted}</span>\r\n                </td>\r\n                <td>\r\n                  <div>\r\n                    <button type=\"button\" onClick={() => decrement(product)}>\r\n                      <MdRemoveCircleOutline size={20} color=\"#7159c1\" />\r\n                    </button>\r\n                    <input type=\"number\" readOnly value={product.amount} />\r\n                    <button type=\"button\" onClick={() => increment(product)}>\r\n                      <MdAddCircleOutline size={20} color=\"#7159c1\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <strong>{product.subtotal}</strong>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() =>\r\n                      dispatch(CartActions.removeFromCart(product.id))\r\n                    }\r\n                  >\r\n                    <MdDelete size={20} color=\"#7159c1\" />\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </ProductTable>\r\n\r\n        <footer>\r\n          <Total>\r\n            <span>TOTAL</span>\r\n            <strong>{total}</strong>\r\n          </Total>\r\n          <button type=\"button\" onClick={() => handlerCheckout()}>\r\n            Finalizar pedido\r\n          </button>\r\n        </footer>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}